{"version":3,"sources":["Square.js","Dustball.js","constants.js","App.js","reportWebVitals.js","index.js"],"names":["getRandomArbitrary","min","max","Math","random","Square","width","height","videoSrc","animationSpeed","onMouseEnter","show","videoRef","useRef","useState","x","y","pos","setPos","isInside","setIsInside","duration","setDuration","opacity","setOpacity","isPlaying","setIsPlaying","volume","setVolume","squareSize","controls","useAnimation","style","handleMouseEnter","useCallback","e","setTimeout","fadeIn","player","fadeInScale","seekTo","interval","setInterval","clearInterval","fadeOut","fadeOutScale","useEffect","current","newX","newY","dx","dy","distance","sqrt","round","start","transition","ease","then","div","animate","className","ref","onDuration","console","log","url","playing","Dustball","size","left","top","videoURLs","App","audioRef","setWidth","setHeight","parentLeft","setParentLeft","parentTop","setParentTop","dustSize","setDustSize","dustPos","setDustPos","showSquares","setShowSquares","started","setStarted","handleMouseMove","clientX","clientY","newDustX","newDustY","offsetWidth","offsetHeight","rect","getBoundingClientRect","class","onClick","audioPlayer","readyState","play","onMouseMove","videos","map","index","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.824a2dbd.chunk.js","sourcesContent":["import React, { useEffect, useRef, useState, useCallback } from \"react\";\nimport { motion, useAnimation } from \"framer-motion\";\nimport ReactPlayer from \"react-player/vimeo\";\nimport Triangle from \"./Triangle\";\n\nfunction getRandomArbitrary(min, max) {\n  return Math.random() * (max - min) + min;\n}\n\n// const squareSize = getRandomArbitrary(50,150);\n\nexport default function Square({\n  width,\n  height,\n  videoSrc,\n  animationSpeed,\n  onMouseEnter,\n  show\n}) {\n  const videoRef = useRef();\n  const [pos, setPos] = useState({ x: 0, y: 0 });\n  const [isInside, setIsInside] = useState(false);\n  const [duration, setDuration] = useState(0);\n  const [opacity, setOpacity] = useState(0);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [volume, setVolume] = useState(0);\n  const [squareSize] = useState(getRandomArbitrary(50,150));\n  const controls = useAnimation();\n\n  const style = {\n    width: `${squareSize}px`,\n    height: `${squareSize}px`,\n    opacity: show ? \"1\" : opacity,\n  };\n\n  const handleMouseEnter = useCallback((e) => {\n    setIsInside(true);\n    onMouseEnter();\n\n    setTimeout(() => {\n      setIsInside(false);\n    }, 4000);\n  });\n\n  const fadeIn = useCallback((player) => {\n    let fadeInScale = 0;\n    player.seekTo(getRandomArbitrary(0, duration));\n    setOpacity(fadeInScale);\n    setVolume(0);\n    setIsPlaying(true);\n    const interval = setInterval(() => {\n      if (fadeInScale > 0.75) {\n          clearInterval(interval);\n      } else {\n          fadeInScale = fadeInScale + 0.15;\n          setVolume(fadeInScale);\n          setOpacity(fadeInScale);\n      }\n    }, 200)\n  }, [duration])\n\n  const fadeOut = useCallback((player) => {\n    let fadeOutScale = 1;\n    const interval = setInterval(() => {\n        if (fadeOutScale < 0.1) {\n            setIsPlaying(false);\n            setOpacity(0);\n            clearInterval(interval);\n        } else {\n            fadeOutScale = fadeOutScale - 0.1;\n            setVolume(fadeOutScale);\n            setOpacity(fadeOutScale);\n        }\n    }, 200)\n  }, [])\n\n  useEffect(() => {\n    const player = videoRef.current;\n    if (player && duration) {\n      if (isInside) {\n          fadeIn(player);\n      } else {\n          fadeOut(player);\n      }\n    }\n  }, [isInside]);\n\n  const onVideoReady = (duration) => {\n    console.log(duration);\n    setDuration(duration);\n  };\n\n  useEffect(() => {\n    const newX = getRandomArbitrary(0, width);\n    const newY = getRandomArbitrary(0, height);\n    const dx = newX - pos.x;\n    const dy = newY - pos.y;\n    const distance = Math.sqrt(dx * dx + dy * dy);\n\n    const duration = Math.round((distance / animationSpeed) * 100) / 100;\n    controls\n      .start({\n        x: newX,\n        y: newY,\n        transition: { ease: \"linear\", duration }\n      })\n      .then(() => {\n        setPos({\n          x: newX,\n          y: newY\n        });\n      });\n  }, [pos, controls]);\n\n\n  return (\n    <motion.div\n      animate={controls}\n      className=\"demo0-block\"\n      onMouseEnter={handleMouseEnter}\n      style={style}\n    >\n    <div>\n      {/* <video\n        width={squareSize}\n        height={squareSize}\n        onDurationChange={onVideoReady}\n        ref={videoRef}\n        class=\"rotating-video\"\n      >\n        <source src={videoSrc} type=\"video/mp4\"></source>\n      </video> */}\n      <ReactPlayer \n        ref={videoRef}\n        width={squareSize}\n        height={squareSize}\n        onDuration={onVideoReady}\n        url={videoSrc}\n        playing={isPlaying}\n        volume={volume}\n      />\n      {/* <Triangle width={squareSize + 30} height={squareSize + 30}/> */}\n    </div>\n    </motion.div>\n  );\n}\n","import React from \"react\";\n\nexport default function Dustball({ x = 0, y = 0, size = 20 }) {\n  const style = {\n    left: `${x}px`,\n    top: `${y}px`,\n    width: `${size}px`,\n    height: `${size}px`\n  };\n  return <div className=\"demo0-dustball\" style={style} />;\n}\n","export const githubMediaUrl = \"https://media.githubusercontent.com/media/nomrik/lcds/main\";\n\nexport const videoURLs = [\n    \"https://vimeo.com/523722737/332466a398\",\n    \"https://vimeo.com/523725045/b828788317\",\n    \"https://vimeo.com/523726526/4bf5f89e13\",\n    \"https://vimeo.com/523728447/68d7c908b8\",\n    \"https://vimeo.com/523729836/c3c618396b\",\n    \"https://vimeo.com/523731442/9aa1b3256e\",\n]","import React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport Square from \"./Square\";\nimport Dustball from \"./Dustball\";\nimport \"./App.css\";\n\nimport { videoURLs as videos } from \"./constants\";\n\nconst animationSpeed = 150;\n\nexport default function App() {\n  const ref = useRef();\n  const audioRef = useRef();\n  const [width, setWidth] = useState(0);\n  const [height, setHeight] = useState(0);\n  const [parentLeft, setParentLeft] = useState(0);\n  const [parentTop, setParentTop] = useState(0);\n  const [dustSize, setDustSize] = useState(20);\n  const [dustPos, setDustPos] = useState({ x: 0, y: 0 });\n  const [showSquares, setShowSquares] = useState(false);\n\n  const [started, setStarted] = useState(false);\n\n  const handleMouseMove = useCallback(\n    (e) => {\n      const x = e.clientX;\n      const y = e.clientY;\n      const newDustX = Math.min(x - parentLeft, width - dustSize);\n      const newDustY = Math.min(y - parentTop, height - dustSize);\n      setDustPos({\n        x: newDustX,\n        y: newDustY\n      });\n    },\n    [parentLeft, parentTop, dustSize]\n  );\n\n  const handleMouseEnter = useCallback((e) => {\n    setDustSize(dustSize + 10);\n  });\n\n  const handleClick = () => {\n    if (!started) {\n      const audioPlayer = audioRef.current;\n      if (audioPlayer && audioPlayer.readyState === 4) {\n        audioPlayer.play();\n      }\n      setStarted(true)\n    } else {\n      setShowSquares(!showSquares);\n    }\n  };\n\n  useEffect(() => {\n    const width = ref.current.offsetWidth;\n    const height = ref.current.offsetHeight;\n    const rect = ref.current.getBoundingClientRect();\n    setParentLeft(rect.left);\n    setParentTop(rect.top);\n    setWidth(width);\n    setHeight(height);\n  }, []);\n\n  return (\n    <div class=\"app-root\">\n      {/* <audio src={`${githubMediaUrl}/src/audio/${track}.wav`} ref={audioRef}></audio> */}\n      <button onClick={handleClick}>{started ? \"Toggle Squares\" : \"Start!\"}</button>\n      <div className=\"demo0\" ref={ref} onMouseMove={handleMouseMove}>\n        {started && videos.map((videoSrc, index) => (\n          <Square\n            key={videoSrc + index}\n            videoSrc={videoSrc}\n            width={width}\n            height={height}\n            animationSpeed={animationSpeed}\n            onMouseEnter={handleMouseEnter}\n            show={showSquares}\n          />\n        ))}\n        {started && <Dustball x={dustPos.x} y={dustPos.y} size={dustSize} />}\n      </div>\n    </div>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}